/**
* @license Input Mask plugin for jquery
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2014 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 0.0.0
*/
!function(e){function t(e){var t=document.createElement("input"),e="on"+e,i=e in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),t=null,i}function i(t,n,a){var s=a.aliases[t];return s?(s.alias&&i(s.alias,void 0,a),e.extend(!0,a,s),e.extend(!0,a,n),!0):!1}function n(t){function i(i){t.numericInput&&(i=i.split("").reverse().join(""));var n=!1,a=0,s=t.greedy,r=t.repeat;"*"==r&&(s=!1),1==i.length&&0==s&&0!=r&&(t.placeholder="");for(var o=e.map(i.split(""),function(e){var i=[];if(e==t.escapeChar)n=!0;else if(e!=t.optionalmarker.start&&e!=t.optionalmarker.end||n){var s=t.definitions[e];if(s&&!n)for(var r=0;r<s.cardinality;r++)i.push(t.placeholder.charAt((a+r)%t.placeholder.length));else i.push(e),n=!1;return a+=i.length,i}}),u=o.slice(),l=1;r>l&&s;l++)u=u.concat(o.slice());return{mask:u,repeat:r,greedy:s}}function n(i){t.numericInput&&(i=i.split("").reverse().join(""));var n=!1,a=!1,s=!1;return e.map(i.split(""),function(e){var i=[];if(e==t.escapeChar)a=!0;else if(e!=t.optionalmarker.start||a){if(e!=t.optionalmarker.end||a){var r=t.definitions[e];if(r&&!a){for(var o=r.prevalidator,u=o?o.length:0,l=1;l<r.cardinality;l++){var c=u>=l?o[l-1]:[],d=c.validator,f=c.cardinality;i.push({fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:f?f:1,optionality:n,newBlockMarker:1==n?s:!1,offset:0,casing:r.casing,def:r.definitionSymbol||e}),1==n&&(s=!1)}i.push({fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:n,newBlockMarker:s,offset:0,casing:r.casing,def:r.definitionSymbol||e})}else i.push({fn:null,cardinality:0,optionality:n,newBlockMarker:s,offset:0,casing:null,def:e}),a=!1;return s=!1,i}n=!1,s=!0}else n=!0,s=!0})}function a(e){return t.optionalmarker.start+e+t.optionalmarker.end}function s(e){for(var i=0,n=0,a=e.length,s=0;a>s&&(e.charAt(s)==t.optionalmarker.start&&i++,e.charAt(s)==t.optionalmarker.end&&n++,!(i>0&&i==n));s++);var r=[e.substring(0,s)];return a>s&&r.push(e.substring(s+1,a)),r}function r(e){for(var i=e.length,n=0;i>n&&e.charAt(n)!=t.optionalmarker.start;n++);var a=[e.substring(0,n)];return i>n&&a.push(e.substring(n+1,i)),a}function o(t,c,d){var f,p,v=s(c),k=r(v[0]);k.length>1?(f=t+k[0]+a(k[1])+(v.length>1?v[1]:""),-1==e.inArray(f,l)&&""!=f&&(l.push(f),p=i(f),u.push({mask:f,_buffer:p.mask,buffer:p.mask.slice(),tests:n(f),lastValidPosition:-1,greedy:p.greedy,repeat:p.repeat,metadata:d})),f=t+k[0]+(v.length>1?v[1]:""),-1==e.inArray(f,l)&&""!=f&&(l.push(f),p=i(f),u.push({mask:f,_buffer:p.mask,buffer:p.mask.slice(),tests:n(f),lastValidPosition:-1,greedy:p.greedy,repeat:p.repeat,metadata:d})),r(k[1]).length>1&&o(t+k[0],k[1]+v[1],d),v.length>1&&r(v[1]).length>1&&(o(t+k[0]+a(k[1]),v[1],d),o(t+k[0],v[1],d))):(f=t+v,-1==e.inArray(f,l)&&""!=f&&(l.push(f),p=i(f),u.push({mask:f,_buffer:p.mask,buffer:p.mask.slice(),tests:n(f),lastValidPosition:-1,greedy:p.greedy,repeat:p.repeat,metadata:d})))}var u=[],l=[];return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){void 0!=t.mask?o("",t.mask.toString(),t):o("",t.toString())}):o("",t.mask.toString()),t.greedy?u:u.sort(function(e,t){return e.mask.length-t.mask.length})}function a(t,i,n,a){function r(){return t[i]}function p(){return r().tests}function v(){return r()._buffer}function k(){return r().buffer}function m(a,s,o){function u(e,t,i,a){for(var s=_(e),r=i?1:0,o="",u=t.buffer,l=t.tests[s].cardinality;l>r;l--)o+=M(u,s-(l-1));return i&&(o+=i),null!=t.tests[s].fn?t.tests[s].fn.test(o,u,e,a,n):i==M(t._buffer.slice(),e,!0)||i==n.skipOptionalPartCharacter?{refresh:!0,c:M(t._buffer.slice(),e,!0),pos:e}:!1}function l(i,n){var r=!1;if(e.each(n,function(t,n){return r=-1==e.inArray(n.activeMasksetIndex,i)&&n.result!==!1,r?!1:void 0}),r)n=e.map(n,function(n){return-1==e.inArray(n.activeMasksetIndex,i)?n:void(t[n.activeMasksetIndex].lastValidPosition=v)});else{var o,l=-1,c=-1;e.each(n,function(t,n){-1!=e.inArray(n.activeMasksetIndex,i)&&n.result!==!1&(-1==l||l>n.result.pos)&&(l=n.result.pos,c=n.activeMasksetIndex)}),n=e.map(n,function(n){if(-1!=e.inArray(n.activeMasksetIndex,i)){if(n.result.pos==l)return n;if(n.result!==!1){for(var r=a;l>r;r++){if(o=u(r,t[n.activeMasksetIndex],t[c].buffer[r],!0),o===!1){t[n.activeMasksetIndex].lastValidPosition=l-1;break}C(t[n.activeMasksetIndex].buffer,r,t[c].buffer[r],!0),t[n.activeMasksetIndex].lastValidPosition=r}return o=u(l,t[n.activeMasksetIndex],s,!0),o!==!1&&(C(t[n.activeMasksetIndex].buffer,l,s,!0),t[n.activeMasksetIndex].lastValidPosition=l),n}}})}return n}if(o=o===!0){var c=u(a,r(),s,o);return c===!0&&(c={pos:a}),c}var d=[],c=!1,f=i,p=k().slice(),v=r().lastValidPosition,m=(P(a),[]);return e.each(t,function(e,t){if("object"==typeof t){i=e;var n,l=a,h=r().lastValidPosition;if(h==v){if(l-v>1)for(var _=-1==h?0:h;l>_&&(n=u(_,r(),p[_],!0),n!==!1);_++){C(k(),_,p[_],!0),n===!0&&(n={pos:_});var P=n.pos||_;r().lastValidPosition<P&&(r().lastValidPosition=P)}if(!g(l)&&!u(l,r(),s,o)){for(var M=b(l)-l,x=0;M>x&&u(++l,r(),s,o)===!1;x++);m.push(i)}}if((r().lastValidPosition>=v||i==f)&&l>=0&&l<y()){if(c=u(l,r(),s,o),c!==!1){c===!0&&(c={pos:l});var P=c.pos||l;r().lastValidPosition<P&&(r().lastValidPosition=P)}d.push({activeMasksetIndex:e,result:c})}}}),i=f,l(m,d)}function h(){var n=i,a={activeMasksetIndex:0,lastValidPosition:-1,next:-1};e.each(t,function(e,t){"object"==typeof t&&(i=e,r().lastValidPosition>a.lastValidPosition?(a.activeMasksetIndex=e,a.lastValidPosition=r().lastValidPosition,a.next=b(r().lastValidPosition)):r().lastValidPosition==a.lastValidPosition&&(-1==a.next||a.next>b(r().lastValidPosition))&&(a.activeMasksetIndex=e,a.lastValidPosition=r().lastValidPosition,a.next=b(r().lastValidPosition)))}),i=-1!=a.lastValidPosition&&t[n].lastValidPosition==a.lastValidPosition?n:a.activeMasksetIndex,n!=i&&(E(k(),b(a.lastValidPosition),y()),r().writeOutBuffer=!0),Z.data("_inputmask").activeMasksetIndex=i}function g(e){var t=_(e),i=p()[t];return void 0!=i?i.fn:!1}function _(e){return e%p().length}function y(){var t=v(),i=r().greedy,a=r().repeat,s=k();if(e.isFunction(n.getMaskLength))return n.getMaskLength(t,i,a,s,n);var o=t.length;return i||("*"==a?o=s.length+1:a>1&&(o+=t.length*(a-1))),o}function b(e){var t=y();if(e>=t)return t;for(var i=e;++i<t&&!g(i););return i}function P(e){var t=e;if(0>=t)return 0;for(;--t>0&&!g(t););return t}function C(e,t,i,n){n&&(t=x(e,t));var a=p()[_(t)],s=i;if(void 0!=s&&void 0!=a)switch(a.casing){case"upper":s=i.toUpperCase();break;case"lower":s=i.toLowerCase()}e[t]=s}function M(e,t,i){return i&&(t=x(e,t)),e[t]}function x(e,t){for(var i;void 0==e[t]&&e.length<y();)for(i=0;void 0!==v()[i];)e.push(v()[i++]);return t}function A(e,t,i){e._valueSet(t.join("")),void 0!=i&&D(e,i)}function E(e,t,i,n){for(var a=t,s=y();i>a&&s>a;a++)n===!0?g(a)||C(e,a,""):C(e,a,M(v().slice(),a,!0))}function I(e,t){var i=_(t);C(e,t,M(v(),i))}function j(e){return n.placeholder.charAt(e%n.placeholder.length)}function V(n,a,s,o,u){var l=void 0!=o?o.slice():w(n._valueGet()).split("");e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)}),s!==!0&&(i=0),a&&n._valueSet("");y();e.each(l,function(t,i){if(u===!0){var o=r().p,l=-1==o?o:P(o),c=-1==l?t:b(l);-1==e.inArray(i,v().slice(l+1,c))&&W.call(n,void 0,!0,i.charCodeAt(0),a,s,t)}else W.call(n,void 0,!0,i.charCodeAt(0),a,s,t),s=s||t>0&&t>r().p}),s===!0&&-1!=r().p&&(r().lastValidPosition=P(r().p))}function S(t){return e.inputmask.escapeRegex.call(this,t)}function w(e){return e.replace(new RegExp("("+S(v().join(""))+")*$"),"")}function T(e){for(var t,i,n=k(),a=n.slice(),i=a.length-1;i>=0;i--){var t=_(i);if(!p()[t].optionality)break;if(g(i)&&m(i,n[i],!0))break;a.pop()}A(e,a)}function O(t,i){if(!p()||i!==!0&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var a=e.map(k(),function(e,t){return g(t)&&m(t,e,!0)?e:null}),s=(Q?a.reverse():a).join("");return e.isFunction(n.onUnMask)?n.onUnMask.call(t,k().join(""),s,n):s}function G(e){if(Q&&"number"==typeof e&&(!n.greedy||""!=n.placeholder)){var t=k().length;e=t-e}return e}function D(t,i,a){var s,r=t.jquery&&t.length>0?t[0]:t;return"number"!=typeof i?e(t).is(":visible")?(r.setSelectionRange?(i=r.selectionStart,a=r.selectionEnd):document.selection&&document.selection.createRange&&(s=document.selection.createRange(),i=0-s.duplicate().moveStart("character",-1e5),a=i+s.text.length),i=G(i),a=G(a),{begin:i,end:a}):{begin:0,end:0}:(i=G(i),a=G(a),e(r).is(":visible")&&(a="number"==typeof a?a:i,r.scrollLeft=r.scrollWidth,0==n.insertMode&&i==a&&a++,r.setSelectionRange?(r.selectionStart=i,r.selectionEnd=a):r.createTextRange&&(s=r.createTextRange(),s.collapse(!0),s.moveEnd("character",a),s.moveStart("character",i),s.select())),void 0)}function K(a){if(e.isFunction(n.isComplete))return n.isComplete.call(Z,a,n);if("*"==n.repeat)return void 0;var s=!1,r=0,o=i;return e.each(t,function(e,t){if("object"==typeof t){i=e;var n=P(y());if(t.lastValidPosition>=r&&t.lastValidPosition==n){for(var o=!0,u=0;n>=u;u++){var l=g(u),c=_(u);if(l&&(void 0==a[u]||a[u]==j(u))||!l&&a[u]!=v()[c]){o=!1;break}}if(s=s||o)return!1}r=t.lastValidPosition}}),i=o,s}function R(e,t){return Q?e-t>1||e-t==1&&n.insertMode:t-e>1||t-e==1&&n.insertMode}function N(t){var i=e._data(t).events;e.each(i,function(t,i){e.each(i,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var i=t.handler;t.handler=function(e){return this.readOnly||this.disabled?void e.preventDefault:i.apply(this,arguments)}}})})}function L(t){function i(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var n=e(t);if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var a=i(t),s=n.data("_inputmask"),r=s.masksets,o=s.activeMasksetIndex;return a!=r[o]._buffer.join("")?a:""}return i(t)},set:function(t,i){var a=e(t),s=n(t,i);return a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask"),s},inputmaskpatch:!0}}}var n;if(Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get){if(!t._valueGet){var a=n.get,s=n.set;t._valueGet=function(){return Q?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){s.call(this,Q?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),i=e(this).data("_inputmask"),n=i.masksets,s=i.activeMasksetIndex;return i&&i.opts.autoUnmask?t.inputmask("unmaskedvalue"):a.call(this)!=n[s]._buffer.join("")?a.call(this):""},set:function(t){s.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var a=t.__lookupGetter__("value"),s=t.__lookupSetter__("value");t._valueGet=function(){return Q?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){s.call(this,Q?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),i=e(this).data("_inputmask"),n=i.masksets,s=i.activeMasksetIndex;return i&&i.opts.autoUnmask?t.inputmask("unmaskedvalue"):a.call(this)!=n[s]._buffer.join("")?a.call(this):""}),t.__defineSetter__("value",function(t){s.call(this,t),e(this).triggerHandler("setvalue.inputmask")})}}else t._valueGet||(t._valueGet=function(){return Q?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=Q?e.split("").reverse().join(""):e}),i(t.type)}function B(e,t,i,n){var a=k();if(n!==!1)for(;!g(e)&&e-1>=0;)e--;for(var s=e;t>s&&s<y();s++)if(g(s)){I(a,s);var o=b(s),u=M(a,o);if(u!=j(o))if(o<y()&&m(s,u,!0)!==!1&&p()[_(s)].def==p()[_(o)].def)C(a,s,u,!0);else if(g(s))break}else I(a,s);if(void 0!=i&&C(a,P(t),i),0==r().greedy){var l=w(a.join("")).split("");a.length=l.length;for(var s=0,c=a.length;c>s;s++)a[s]=l[s];0==a.length&&(r().buffer=v().slice())}return e}function F(e,t,i){var n=k();if(M(n,e,!0)!=j(e))for(var a=P(t);a>e&&a>=0;a--)if(g(a)){var s=P(a),o=M(n,s);o!=j(s)&&m(a,o,!0)!==!1&&p()[_(a)].def==p()[_(s)].def&&(C(n,a,o,!0),I(n,s))}else I(n,a);void 0!=i&&M(n,e)==j(e)&&C(n,e,i);var u=n.length;if(0==r().greedy){var l=w(n.join("")).split("");n.length=l.length;for(var a=0,c=n.length;c>a;a++)n[a]=l[a];0==n.length&&(r().buffer=v().slice())}return t-(u-n.length)}function H(e,t,i){if(n.numericInput||Q){switch(t){case n.keyCode.BACKSPACE:t=n.keyCode.DELETE;break;case n.keyCode.DELETE:t=n.keyCode.BACKSPACE}if(Q){var a=i.end;i.end=i.begin,i.begin=a}}var s=!0;if(i.begin==i.end){var o=t==n.keyCode.BACKSPACE?i.begin-1:i.begin;n.isNumeric&&""!=n.radixPoint&&k()[o]==n.radixPoint&&(i.begin=k().length-1==o?i.begin:t==n.keyCode.BACKSPACE?o:b(o),i.end=i.begin),s=!1,t==n.keyCode.BACKSPACE?i.begin--:t==n.keyCode.DELETE&&i.end++}else i.end-i.begin!=1||n.insertMode||(s=!1,t==n.keyCode.BACKSPACE&&i.begin--);E(k(),i.begin,i.end);var u=y();if(0==n.greedy&&(isNaN(n.repeat)||n.repeat>0))B(i.begin,u,void 0,!Q&&t==n.keyCode.BACKSPACE&&!s);else{for(var l=i.begin,c=i.begin;c<i.end;c++)(g(c)||!s)&&(l=B(i.begin,u,void 0,!Q&&t==n.keyCode.BACKSPACE&&!s));s||(i.begin=l)}var d=b(-1);E(k(),i.begin,i.end,!0),V(e,!1,!1,k()),r().lastValidPosition<d?(r().lastValidPosition=-1,r().p=d):r().p=i.begin}function U(t){X=!1;var i=this,a=e(i),s=t.keyCode,u=D(i);s==n.keyCode.BACKSPACE||s==n.keyCode.DELETE||o&&127==s||t.ctrlKey&&88==s?(t.preventDefault(),88==s&&(Y=k().join("")),H(i,s,u),h(),A(i,k(),r().p),i._valueGet()==v().join("")&&a.trigger("cleared"),n.showTooltip&&a.prop("title",r().mask)):s==n.keyCode.END||s==n.keyCode.PAGE_DOWN?setTimeout(function(){var e=b(r().lastValidPosition);n.insertMode||e!=y()||t.shiftKey||e--,D(i,t.shiftKey?u.begin:e,e)},0):s==n.keyCode.HOME&&!t.shiftKey||s==n.keyCode.PAGE_UP?D(i,0,t.shiftKey?u.begin:0):s==n.keyCode.ESCAPE||90==s&&t.ctrlKey?(V(i,!0,!1,Y.split("")),a.click()):s!=n.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=n.insertMode||t.shiftKey||(s==n.keyCode.RIGHT?setTimeout(function(){var e=D(i);D(i,e.begin)},0):s==n.keyCode.LEFT&&setTimeout(function(){var e=D(i);D(i,e.begin-1)},0)):(n.insertMode=!n.insertMode,D(i,n.insertMode||u.begin!=y()?u.begin:u.begin-1));var l=D(i);n.onKeyDown.call(this,t,k(),n)===!0&&D(i,l.begin,l.end),tt=-1!=e.inArray(s,n.ignorables)}function W(a,s,o,u,l,c){if(void 0==o&&X)return!1;X=!0;var d=this,f=e(d);a=a||window.event;var o=s?o:a.which||a.charCode||a.keyCode;if(!(s===!0||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||tt))return!0;if(o){s!==!0&&46==o&&0==a.shiftKey&&","==n.radixPoint&&(o=44);var p,v,g,_=String.fromCharCode(o);if(s){var x=l?c:r().lastValidPosition+1;p={begin:x,end:x}}else p=D(d);var E=R(p.begin,p.end),I=i;E&&(e.each(t,function(e,t){"object"==typeof t&&(i=e,r().undoBuffer=k().join(""))}),i=I,H(d,n.keyCode.DELETE,p),n.insertMode||e.each(t,function(e,t){"object"==typeof t&&(i=e,F(p.begin,y()),r().lastValidPosition=b(r().lastValidPosition))}),i=I);var V=k().join("").indexOf(n.radixPoint);n.isNumeric&&s!==!0&&-1!=V&&(n.greedy&&p.begin<=V?(p.begin=P(p.begin),p.end=p.begin):_==n.radixPoint&&(p.begin=V,p.end=p.begin));var S=p.begin;v=m(S,_,l),l===!0&&(v=[{activeMasksetIndex:i,result:v}]);var w=-1;if(e.each(v,function(e,t){i=t.activeMasksetIndex,r().writeOutBuffer=!0;var a=t.result;if(a!==!1){var s=!1,o=k();if(a!==!0&&(s=a.refresh,S=void 0!=a.pos?a.pos:S,_=void 0!=a.c?a.c:_),s!==!0){if(1==n.insertMode){for(var u=y(),c=o.slice();M(c,u,!0)!=j(u)&&u>=S;)u=0==u?-1:P(u);if(u>=S){F(S,y(),_);var d=r().lastValidPosition,f=b(d);f!=y()&&d>=S&&M(k().slice(),f,!0)!=j(f)&&(r().lastValidPosition=f)}else r().writeOutBuffer=!1}else C(o,S,_,!0);(-1==w||w>b(S))&&(w=b(S))}else if(!l){var p=S<y()?S+1:S;(-1==w||w>p)&&(w=p)}w>r().p&&(r().p=w)}}),l!==!0&&(i=I,h()),u!==!1)if(e.each(v,function(e,t){return t.activeMasksetIndex==i?(g=t,!1):void 0}),void 0!=g){var T=this;if(setTimeout(function(){n.onKeyValidation.call(T,g.result,n)},0),r().writeOutBuffer&&g.result!==!1){var O,G=k();O=s?void 0:n.numericInput?S>V?P(w):_==n.radixPoint?w-1:P(w-1):w,A(d,G,O),s!==!0&&setTimeout(function(){K(G)===!0&&f.trigger("complete"),et=!0,f.trigger("input")},0)}else E&&(r().buffer=r().undoBuffer.split(""))}else E&&(r().buffer=r().undoBuffer.split(""));n.showTooltip&&f.prop("title",r().mask),a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}function $(t){var i=e(this),a=this,s=t.keyCode,r=k();n.onKeyUp.call(this,t,r,n),s==n.keyCode.TAB&&n.showMaskOnFocus&&(i.hasClass("focus.inputmask")&&0==a._valueGet().length?(r=v().slice(),A(a,r),D(a,0),Y=k().join("")):(A(a,r),r.join("")==v().join("")&&-1!=e.inArray(n.radixPoint,r)?(D(a,G(0)),i.click()):D(a,G(0),G(y()))))}function z(t){if(et===!0&&"input"==t.type)return et=!1,!0;var i=this,a=e(i);return"propertychange"==t.type&&i._valueGet().length<=y()?!0:void setTimeout(function(){var t=e.isFunction(n.onBeforePaste)?n.onBeforePaste.call(i,i._valueGet(),n):i._valueGet();V(i,!1,!1,t.split(""),!0),A(i,k()),K(k())===!0&&a.trigger("complete"),a.click()},0)}function J(t){var i=this,a=e(i),s=D(i),r=i._valueGet();r=r.replace(new RegExp("("+S(v().join(""))+")*"),""),s.begin>r.length&&(D(i,r.length),s=D(i)),k().length-r.length!=1||r.charAt(s.begin)==k()[s.begin]||r.charAt(s.begin+1)==k()[s.begin]||g(s.begin)?(V(i,!1,!1,r.split("")),A(i,k()),K(k())===!0&&a.trigger("complete"),a.click()):(t.keyCode=n.keyCode.BACKSPACE,U.call(i,t)),t.preventDefault()}function q(a){if(Z=e(a),Z.is(":input")){if(Z.data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:n,isRTL:!1}),n.showTooltip&&Z.prop("title",r().mask),r().greedy=r().greedy?r().greedy:0==r().repeat,null!=Z.attr("maxLength")){var o=Z.prop("maxLength");o>-1&&e.each(t,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=o)}),y()>=o&&o>-1&&(o<v().length&&(v().length=o),0==r().greedy&&(r().repeat=Math.round(o/v().length)),Z.prop("maxLength",2*y()))}if(L(a),n.numericInput&&(n.isNumeric=n.numericInput),("rtl"==a.dir||n.numericInput&&n.rightAlignNumerics||n.isNumeric&&n.rightAlignNumerics)&&Z.css("text-align","right"),"rtl"==a.dir||n.numericInput){a.dir="ltr",Z.removeAttr("dir");var p=Z.data("_inputmask");p.isRTL=!0,Z.data("_inputmask",p),Q=!0}Z.unbind(".inputmask"),Z.removeClass("focus.inputmask"),Z.closest("form").bind("submit",function(){Y!=k().join("")&&Z.change()}).bind("reset",function(){setTimeout(function(){Z.trigger("setvalue")},0)}),Z.bind("mouseenter.inputmask",function(){var t=e(this),i=this;!t.hasClass("focus.inputmask")&&n.showMaskOnHover&&i._valueGet()!=k().join("")&&A(i,k())}).bind("blur.inputmask",function(){var a=e(this),s=this,r=s._valueGet(),o=k();a.removeClass("focus.inputmask"),Y!=k().join("")&&a.change(),n.clearMaskOnLostFocus&&""!=r&&(r==v().join("")?s._valueSet(""):T(s)),K(o)===!1&&(a.trigger("incomplete"),n.clearIncomplete&&(e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)}),i=0,n.clearMaskOnLostFocus?s._valueSet(""):(o=v().slice(),A(s,o))))}).bind("focus.inputmask",function(){var t=e(this),i=this,a=i._valueGet();n.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!n.showMaskOnHover||n.showMaskOnHover&&""==a)&&i._valueGet()!=k().join("")&&A(i,k(),b(r().lastValidPosition)),t.addClass("focus.inputmask"),Y=k().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),i=this;n.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||i._valueGet()==t.attr("placeholder")||(i._valueGet()==v().join("")||""==i._valueGet()?i._valueSet(""):T(i)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var i=D(t),a=k();if(i.begin==i.end){var s,o=Q?G(i.begin):i.begin,u=r().lastValidPosition;s=n.isNumeric&&n.skipRadixDance===!1&&""!=n.radixPoint&&-1!=e.inArray(n.radixPoint,a)?n.numericInput?b(e.inArray(n.radixPoint,a)):e.inArray(n.radixPoint,a):b(u),s>o?g(o)?D(t,o):D(t,b(o)):D(t,s)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){D(e,0,b(r().lastValidPosition))},0)}).bind(f+".inputmask dragdrop.inputmask drop.inputmask",z).bind("setvalue.inputmask",function(){var e=this;V(e,!0),Y=k().join(""),e._valueGet()==v().join("")&&e._valueSet("")}).bind("complete.inputmask",n.oncomplete).bind("incomplete.inputmask",n.onincomplete).bind("cleared.inputmask",n.oncleared),Z.bind("keydown.inputmask",U).bind("keypress.inputmask",W).bind("keyup.inputmask",$),(u||c||l||d)&&(Z.attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck",!1),(c||d)&&(Z.unbind("keydown.inputmask",U).unbind("keypress.inputmask",W).unbind("keyup.inputmask",$),"input"==f&&Z.unbind(f+".inputmask"),Z.bind("input.inputmask",J))),s&&Z.bind("input.inputmask",z);var m=e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(a,a._valueGet(),n):a._valueGet();V(a,!0,!1,m.split("")),Y=k().join("");var h;try{h=document.activeElement}catch(_){}h===a?(Z.addClass("focus.inputmask"),D(a,b(r().lastValidPosition))):n.clearMaskOnLostFocus?k().join("")==v().join("")?a._valueSet(""):T(a):A(a,k()),N(a)}}var Z,Q=!1,Y=k().join(""),X=!1,et=!1,tt=!1;if(void 0!=a)switch(a.action){case"isComplete":return K(a.buffer);case"unmaskedvalue":return Q=a.$input.data("_inputmask").isRTL,O(a.$input,a.skipDatepickerCheck);case"mask":q(a.el);break;case"format":return Z=e({}),Z.data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:n,isRTL:n.numericInput}),n.numericInput&&(n.isNumeric=n.numericInput,Q=!0),V(Z,!1,!1,a.value.split(""),!0),k().join("");case"isValid":return Z=e({}),Z.data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:n,isRTL:n.numericInput}),n.numericInput&&(n.isNumeric=n.numericInput,Q=!0),V(Z,!1,!0,a.value.split("")),K(k())}}if(void 0===e.fn.inputmask){var s="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,r=navigator.userAgent,o=null!==r.match(new RegExp("iphone","i")),u=null!==r.match(new RegExp("android.*safari.*","i")),l=null!==r.match(new RegExp("android.*chrome.*","i")),c=null!==r.match(new RegExp("android.*firefox.*","i")),d=/Kindle/i.test(r)||/Silk/i.test(r)||/KFTT/i.test(r)||/KFOT/i.test(r)||/KFJWA/i.test(r)||/KFJWI/i.test(r)||/KFSOWI/i.test(r)||/KFTHWA/i.test(r)||/KFTHWI/i.test(r)||/KFAPWA/i.test(r)||/KFAPWI/i.test(r),f=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁё]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:void 0,isComplete:void 0},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,s){var r=e.extend(!0,{},e.inputmask.defaults,s);return i(r.alias,s,r),a(n(r),0,r,{action:"format",value:t})},isValid:function(t,s){var r=e.extend(!0,{},e.inputmask.defaults,s);return i(r.alias,s,r),a(n(r),0,r,{action:"isValid",value:t})}},e.fn.inputmask=function(t,s){var r,o=e.extend(!0,{},e.inputmask.defaults,s),u=0;if("string"==typeof t)switch(t){case"mask":return i(o.alias,s,o),r=n(o),0==r.length?this:this.each(function(){a(e.extend(!0,{},r),0,o,{action:"mask",el:this})});case"unmaskedvalue":var l=e(this);return l.data("_inputmask")?(r=l.data("_inputmask").masksets,u=l.data("_inputmask").activeMasksetIndex,o=l.data("_inputmask").opts,a(r,u,o,{action:"unmaskedvalue",$input:l})):l.val();case"remove":return this.each(function(){var t=e(this),i=this;if(t.data("_inputmask")){r=t.data("_inputmask").masksets,u=t.data("_inputmask").activeMasksetIndex,o=t.data("_inputmask").opts,i._valueSet(a(r,u,o,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:!0})),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(i,"value")),n&&n.get?i._valueGet&&Object.defineProperty(i,"value",{get:i._valueGet,set:i._valueSet}):document.__lookupGetter__&&i.__lookupGetter__("value")&&i._valueGet&&(i.__defineGetter__("value",i._valueGet),i.__defineSetter__("value",i._valueSet));try{delete i._valueGet,delete i._valueSet}catch(s){i._valueGet=void 0,i._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(r=this.data("_inputmask").masksets,u=this.data("_inputmask").activeMasksetIndex,r[u]._buffer.join("")):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return r=this.data("_inputmask").masksets,u=this.data("_inputmask").activeMasksetIndex,o=this.data("_inputmask").opts,a(r,u,o,{action:"isComplete",buffer:this[0]._valueGet().split("")});case"getmetadata":return this.data("_inputmask")?(r=this.data("_inputmask").masksets,u=this.data("_inputmask").activeMasksetIndex,r[u].metadata):void 0;default:return i(t,s,o)||(o.mask=t),r=n(o),0==r.length?this:this.each(function(){a(e.extend(!0,{},r),u,o,{action:"mask",el:this})})}else{if("object"==typeof t)return o=e.extend(!0,{},e.inputmask.defaults,t),i(o.alias,t,o),r=n(o),0==r.length?this:this.each(function(){a(e.extend(!0,{},r),u,o,{action:"mask",el:this})});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var n=e.parseJSON("{"+t+"}");e.extend(!0,n,s),o=e.extend(!0,{},e.inputmask.defaults,n),i(o.alias,n,o),o.alias=void 0,e(this).inputmask(o)}catch(a){}})}}}}(jQuery);